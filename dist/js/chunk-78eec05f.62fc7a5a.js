(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78eec05f"],{"068e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{staticClass:"bgc",attrs:{"right-text":t.isMange?"完成":"管理","left-arrow":"",title:"确认地址"},on:{"click-left":t.Return,"click-right":t.isCheck}}),a("div",{staticClass:"addresList"},[a("van-address-list",{attrs:{list:t.addressList,"default-tag-text":"默认","add-button-text":t.isMange?"删除地址":"新增地址"},on:{add:t.onAdd,edit:t.onEdit},model:{value:t.aid,callback:function(e){t.aid=e},expression:"aid"}})],1)],1)},s=[],r=(a("4160"),a("a434"),a("b0c0"),a("159b"),{data:function(){return{aid:"1",addressList:[],isMange:!1}},created:function(){this.getAddressData()},methods:{getAddressData:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0});var e=localStorage.getItem("__Tk");this.axios({method:"GET",url:"/findAddress",params:{appkey:this.appkey,tokenString:e}}).then((function(e){t.$toast.clear(),2e4==e.data.code&&e.data.result.forEach((function(e,a){var i={id:e.aid,tel:e.tel,name:e.name,address:e.province+e.city+e.county+e.addressDetail,isDefault:Boolean(e.isDefault)};e.isDefault&&(t.aid=e.aid),t.addressList.push(i),e.isDefault||(t.aid=t.addressList[0].id)}))})).catch((function(e){t.$toast.clear()}))},isCheck:function(){this.isMange=!this.isMange},onAdd:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0});var e=localStorage.getItem("__Tk");this.isMange?(0==this.addressList.length&&this.$toast("没有要删除的数据"),this.addressList.forEach((function(a,i){a.id==t.aid?t.axios({method:"POST",url:"/deleteAddress",data:{appkey:t.appkey,tokenString:e,aid:a.id}}).then((function(e){t.$toast.clear(),1e4==e.data.code&&t.addressList.splice(i,1)})).catch((function(e){t.$toast.clear()})):t.$toast("请选择要删除的地址")}))):(this.$toast.clear(),this.$router.push({name:"Addres"}))},onEdit:function(t){this.$toast("编辑地址");var e={name:"Addres"};t&&(e.params={aid:t.id}),this.$router.push(e)},Return:function(){var t=this;this.addressList.forEach((function(e){if(e.id==t.aid){var a={name:"Shopcart",params:{aid:e.id}};t.$router.push(a)}})),0==this.addressList.length&&this.$router.go(-1)}}}),n=r,o=(a("e293"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,"687bc221",null);e["default"]=c.exports},"159b":function(t,e,a){var i=a("da84"),s=a("fdbc"),r=a("17c2"),n=a("9112");for(var o in s){var c=i[o],d=c&&c.prototype;if(d&&d.forEach!==r)try{n(d,"forEach",r)}catch(l){d.forEach=r}}},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,s=a("a640"),r=a("ae40"),n=s("forEach"),o=r("forEach");t.exports=n&&o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,a){"use strict";var i=a("23e7"),s=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},a434:function(t,e,a){"use strict";var i=a("23e7"),s=a("23cb"),r=a("a691"),n=a("50c4"),o=a("7b0b"),c=a("65f0"),d=a("8418"),l=a("1dde"),u=a("ae40"),f=l("splice"),h=u("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,p=Math.min,L=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!h},{splice:function(t,e){var a,i,l,u,f,h,S=o(this),v=n(S.length),b=s(t,v),k=arguments.length;if(0===k?a=i=0:1===k?(a=0,i=v-b):(a=k-2,i=p(g(r(e),0),v-b)),v+a-i>L)throw TypeError(m);for(l=c(S,i),u=0;u<i;u++)f=b+u,f in S&&d(l,u,S[f]);if(l.length=i,a<i){for(u=b;u<v-i;u++)f=u+i,h=u+a,f in S?S[h]=S[f]:delete S[h];for(u=v;u>v-i+a;u--)delete S[u-1]}else if(a>i)for(u=v-i;u>b;u--)f=u+i-1,h=u+a-1,f in S?S[h]=S[f]:delete S[h];for(u=0;u<a;u++)S[u+b]=arguments[u+2];return S.length=v-i+a,l}})},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){throw 1},1)}))}},b0c0:function(t,e,a){var i=a("83ab"),s=a("9bf2").f,r=Function.prototype,n=r.toString,o=/^\s*function ([^ (]*)/,c="name";i&&!(c in r)&&s(r,c,{configurable:!0,get:function(){try{return n.call(this).match(o)[1]}catch(t){return""}}})},bdf7:function(t,e,a){},e293:function(t,e,a){"use strict";var i=a("bdf7"),s=a.n(i);s.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-78eec05f.62fc7a5a.js.map