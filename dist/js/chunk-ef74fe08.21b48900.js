(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef74fe08"],{"159b":function(t,e,a){var i=a("da84"),r=a("fdbc"),n=a("17c2"),s=a("9112");for(var o in r){var c=i[o],d=c&&c.prototype;if(d&&d.forEach!==n)try{s(d,"forEach",n)}catch(l){d.forEach=n}}},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,r=a("a640"),n=a("ae40"),s=r("forEach"),o=n("forEach");t.exports=s&&o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,a){"use strict";var i=a("23e7"),r=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"5f92":function(t,e,a){},"7a02":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{staticClass:"bgc",attrs:{title:"我的订单"},on:{"click-left":t.Return}},[a("van-icon",{attrs:{slot:"left",name:"arrow-left"},slot:"left"})],1),a("div",{staticClass:"content"},[a("van-tabs",{on:{change:t.onChange},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.actves,(function(e,i){return a("van-tab",{key:i,attrs:{title:e.title,name:e.name}},t._l(t.orderData,(function(e,i){return a("div",{key:i,staticClass:"order-item"},[a("div",{staticClass:"order-top"},[a("span",[t._v(t._s(i))]),2==e.status?a("van-icon",{staticClass:"fr",attrs:{name:"delete"},on:{click:function(a){return t.removeOrder(e,i)}}}):t._e()],1),a("div",{staticClass:"order-cont"},t._l(e.data,(function(e,i){return a("van-card",{key:i,attrs:{num:e.count,price:e.price,desc:e.desc,title:e.name,thumb:e.smallImg},scopedSlots:t._u([{key:"tags",fn:function(){return[a("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("标签")]),a("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("标签")])]},proxy:!0}],null,!0)})})),1),a("div",{staticClass:"btn clearfix"},[a("span",{staticClass:"fl"},[t._v(t._s(t._f("formatDate")(e.data[0].createdAt,"yyyy-MM-dd hh:mm:ss")))]),a("div",{staticClass:"is-receive fr"},[1==e.status?a("span",{attrs:{size:"mini"},on:{click:function(a){return t.Receive(e,i)}}},[t._v("确认收货")]):a("span",[t._v("已收货")])])])])})),0)})),1)],1)],1)},r=[],n=(a("4160"),a("c975"),a("a434"),a("159b"),a("5f92"),a("ddb2"),{data:function(){return{activeName:"0",oids:[],actves:[{title:"全部订单",name:0},{title:"待收货",name:1},{title:"已收货",name:2}],orderData:{}}},created:function(){1==this.$route.params.status||2==this.$route.params.status?(this.activeName=this.$route.params.status,this.getOrderData()):this.getOrderData()},methods:{Return:function(){this.$router.push({name:"My"})},getOrderData:function(){var t=this,e=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findOrder",params:{appkey:this.appkey,tokenString:e,status:this.activeName}}).then((function(e){if(t.$toast.clear(),7e4==e.data.code){t.$toast(e.data.msg),e.data.result.sort((function(t,e){return new Date(e.createdAt).getTime-new Date(t.createdAt).getTime}));var a=[];e.data.result.forEach((function(t){-1===a.indexOf(t.oid)&&a.push(t.oid)})),t.oids=a;var i={};e.data.result.forEach((function(t){i[t.oid]?i[t.oid].data.push(t):i[t.oid]={data:[t],status:t.status}})),t.orderData=i}})).catch((function(e){t.$toast.clear()}))},onChange:function(){this.getOrderData()},Receive:function(t,e){var a=this,i=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/receive",data:{appkey:this.appkey,tokenString:i,oid:e}}).then((function(e){a.$toast.clear(),8e4==e.data.code&&(t.status=2,a.$toast("已收货"),a.getOrderData())})).catch((function(t){a.$toast.clear()}))},removeOrder:function(t,e){var a=this,i=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/removeOrder",data:{appkey:this.appkey,tokenString:i,oid:e}}).then((function(t){a.$toast.clear(),9e4==t.data.code&&(a.oids.splice(e,1),a.getOrderData())})).catch((function(t){a.$toast.clear()}))}}}),s=n,o=a("2877"),c=Object(o["a"])(s,i,r,!1,null,"b6e560e2",null);e["default"]=c.exports},a434:function(t,e,a){"use strict";var i=a("23e7"),r=a("23cb"),n=a("a691"),s=a("50c4"),o=a("7b0b"),c=a("65f0"),d=a("8418"),l=a("1dde"),u=a("ae40"),f=l("splice"),h=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,v=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!h},{splice:function(t,e){var a,i,l,u,f,h,S=o(this),y=s(S.length),k=r(t,y),L=arguments.length;if(0===L?a=i=0:1===L?(a=0,i=y-k):(a=L-2,i=v(m(n(e),0),y-k)),y+a-i>p)throw TypeError(g);for(l=c(S,i),u=0;u<i;u++)f=k+u,f in S&&d(l,u,S[f]);if(l.length=i,a<i){for(u=k;u<y-i;u++)f=u+i,h=u+a,f in S?S[h]=S[f]:delete S[h];for(u=y;u>y-i+a;u--)delete S[u-1]}else if(a>i)for(u=y-i;u>k;u--)f=u+i-1,h=u+a-1,f in S?S[h]=S[f]:delete S[h];for(u=0;u<a;u++)S[u+k]=arguments[u+2];return S.length=y-i+a,l}})},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){throw 1},1)}))}},c975:function(t,e,a){"use strict";var i=a("23e7"),r=a("4d64").indexOf,n=a("a640"),s=a("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,d=n("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!d||!l},{indexOf:function(t){return c?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},ddb2:function(t,e,a){},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-ef74fe08.21b48900.js.map